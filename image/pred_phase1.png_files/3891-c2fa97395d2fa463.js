"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3891],{60079:function(e,t,n){n.d(t,{Z:function(){return F}});var a=n(67294),r=n(11163),o=n(91937),i=function(){var e="6000000695";window.fwSettings={widget_id:e},"function"!=typeof window.FreshworksWidget&&(window.FreshworksWidget=function(){var e=function e(){e.q.push(arguments)};e.q=[],window.FreshworksWidget=e});var t=document.createElement("script");t.src="https://widget.freshworks.com/widgets/".concat(e,".js"),t.async=!0,t.defer=!0,document.body.appendChild(t)},s=n(47513),l=n(86010),c=n(25675),u=n.n(c),d=n(60214),p=n(62841),m=n(85893);function h(e){var t=e.className;return(0,m.jsxs)("div",{className:(0,l.Z)("tw-py-1.5 tw-px-3 tw-bg-yellow-100 tw-flex tw-justify-center",void 0===t?"":t),children:[(0,m.jsx)(u(),{src:"/static/img/logos/logo-protocol-io.png",width:200,height:200,className:"protocol-icon b-mr-25 b-mt-5-d b-mb-10-m tw-h-20 tw-w-20",alt:"protocol.io"}),(0,m.jsxs)(d.Z,{tag:"h3",size:"xl",bold:!1,children:[(0,m.jsx)("b",{children:"We're migrating all Protocol Exchange content!"})," All protocols posted on Protocol Exchange will be migrating onto the ",(0,m.jsx)(p.Z,{type:"new-tab",href:"https://www.protocols.io/",children:"protocols.io"})," platform (now also part of the Springer Nature family) in 2024. This will allow protocols to be accessible and available with all of the dynamic interactive functionality of ",(0,m.jsx)(p.Z,{type:"new-tab",href:"https://www.protocols.io/",children:"protocols.io"}),". All existing content is currently being moved onto ",(0,m.jsx)(p.Z,{type:"new-tab",href:"https://www.protocols.io/",children:"protocols.io"}),"; If you have previously posted work on the Protocol Exchange, please check your email for a message from the Protocol Exchange Team.",(0,m.jsxs)("b",{children:["If you wish to submit a new protocol, you can do so on ",(0,m.jsx)(p.Z,{type:"new-tab",href:"https://www.protocols.io/",children:"protocols.io"})," please see"," ",(0,m.jsx)(p.Z,{type:"new-tab",href:"https://www.protocols.io/protocolexchange",children:"this page"})," ","for more information. "]}),"If your protocol has not yet been migrated, but you want to add a new version, please contact info@protocols.io to request that this be expedited for you."]})]})}var f=n(59499),g=n(9008),v=n.n(g),b=n(2962),x="Research Square",j="Research Square is a preprint platform that makes research communication faster, fairer, and more useful.",w={title:x,description:j,openGraph:{type:"website",locale:"en_US",url:"https://www.researchsquare.com",title:x,description:j,images:[{url:"https://www.researchsquare.com/static/img/logos/logo-og-default.jpg",alt:x,width:1280,height:720}]},twitter:{handle:"@researchsquare",site:"@researchsquare",cardType:"summary"}};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var O=function(e){var t=e.site,n=e.title,a=e.description,r=e.image,o=e.noindex;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(b.lX,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,f.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},w)),(0,m.jsx)(b.PB,{noindex:o,defaultTitle:t,title:"".concat(n," | ").concat(t),description:a,openGraph:{title:n,images:[{url:r}]}}),(0,m.jsxs)(v(),{children:[(0,m.jsx)("meta",{charSet:"utf-8"}),(0,m.jsx)("meta",{content:"text/html; charset=UTF-8",name:"Content-Type"},"texthtml"),(0,m.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"},"viewport"),(0,m.jsx)("meta",{name:"apple-mobile-web-app-title",content:"Research Square"},"applemobilewebapptitle"),(0,m.jsx)("meta",{name:"application-name",content:"Research Square"},"applicationname"),(0,m.jsx)("link",{rel:"shortcut icon",type:"image/x-icon",href:"/static/favicons/favicon.ico"}),(0,m.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/static/favicons/apple-touch-icon.png"}),(0,m.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/static/favicons/favicon-32x32.png"}),(0,m.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/static/favicons/favicon-16x16.png"}),(0,m.jsx)("link",{rel:"manifest",href:"/static/favicons/site.webmanifest"}),(0,m.jsx)("link",{rel:"mask-icon",href:"/static/favicons/safari-pinned-tab.svg",color:"#244261"}),(0,m.jsx)("meta",{name:"msapplication-config",content:"/static/favicons/browserconfig.xml"},"msapplicationconfig"),(0,m.jsx)("meta",{name:"msapplication-TileColor",content:"#ffffff"},"msapplicationtilecolor"),(0,m.jsx)("meta",{name:"theme-color",content:"#ffffff"},"themecolor"),(0,m.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com/",crossOrigin:"anonymous"}),(0,m.jsx)("link",{rel:"preconnect",href:"https://www.googletagmanager.com",crossOrigin:"anonymous"}),(0,m.jsx)("link",{rel:"preconnect",href:"https://www.google-analytics.com",crossOrigin:"anonymous"}),(0,m.jsx)("script",{async:!0,dangerouslySetInnerHTML:{__html:"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-K279D39R');"}})]})]})};O.defaultProps={description:"Research Square is a preprint platform that makes research communication faster, fairer, and more useful.",image:"https://www.researchsquare.com/static/img/logos/logo-og-default.jpg"};var S=n(83107),P=n(95350);function N(e){var t=e.actionsToggle,n=e.actionsStuck,r=e.actionsContent,o=e.handleActionsToggle,i=e.isMobile,s=t||n&&!i?"is-active":"is-hidden";return(0,m.jsxs)(a.Fragment,{children:[(0,m.jsx)("div",{className:"rs-actions ".concat(s),children:r}),t&&(0,m.jsx)("div",{className:"dimmer",onClick:o,role:"complementary"})]})}var C=n(64049),k=n(23463);function T(e){var t=e.children,n=e.config,l=e.bodyClass,c=e.title,u=e.description,d=e.image,p=e.sidenavStuck,f=e.actions,g=f.actionsStuck,v=f.actionsLabel,b=f.actionsContent,x=e.actionsIconOpen,j=e.actionsIconClosed,w=e.lastSection,y=e.isStructured,T=e.isPublished,F=e.allowDirectSubmit,Z=e.allowPostMyPreprint,E=e.isOwner,q=e.hasOptedInToPreprint,M=e.status,I=e.acdcEnabled,R=e.noindex,A=e.isPdfViewerFullscreen,U=e.isAcceptedByJournal,L=(0,a.useState)(!1),D=L[0],B=L[1],V=(0,a.useState)(!1),z=V[0],W=V[1],H=(0,k.F)(!1),_=H.isMobile,K=H.isTablet,$=(0,o.aC)(),G=$.user?$.user:{},J=(0,r.useRouter)(),X=(0,o.aC)().isAllowedTo,Y="protocol-exchange"===n;function Q(){B(!D),W(!1)}function ee(){B(!1),W(!z)}return(0,a.useEffect)(function(){if(X("user/admin-dashboard")){var e=document.getElementById("freshworks-container");e&&(e.style.display="none");return}var t="/"===J.pathname,n="/coronavirus"===J.pathname,a=J.pathname.includes("/browse"),r=J.pathname.includes("/article"),o=J.pathname.includes("/admin"),s="/profile"===J.pathname,l="/login"===J.pathname;if(!a&&!r&&!t&&!n&&!o&&!s&&!l)return i()},[J.pathname,G]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(O,{site:Y?"Protocol Exchange on Research Square":"Research Square",title:c,description:u,image:d,noindex:R}),(0,m.jsxs)("div",{className:"original-css ".concat(A?"no-scroll":""),children:[(0,m.jsx)(S.Z,{isPE:Y,handleSidenavToggle:Q,sidenavToggle:D,sidenavStuck:p,handleActionsToggle:ee,actionsToggle:z,actionsStuck:g||A,actionsLabel:v,actionsIconClosed:j,actionsIconOpen:x,isMobile:_,showUnifiedSearchBar:"/browse/[[...journal]]"!==J.pathname,isPdfViewerFullscreen:A}),(0,m.jsxs)("div",{className:"rs-container",children:[(p||D)&&(0,m.jsx)(P.Z,{isPE:Y,handleSidenavToggle:Q,sidenavToggle:D,sidenavStuck:p||A,isAcceptedByJournal:U,isPublished:T,allowDirectSubmit:F,allowPostMyPreprint:Z,user:G,isMobile:_,isTablet:K,isOwner:E,hasOptedInToPreprint:q,status:M,acdcEnabled:I,extraClasses:""}),y?(0,m.jsxs)("div",{className:"rs-full-height has-navbar",children:[(0,m.jsx)("div",{className:"rs-page\n                                ".concat(p&&"sidenav-stuck","\n                                ").concat(l),children:Y&&(0,m.jsx)(h,{})}),p&&"sidenav-stuck",(0,m.jsx)("div",{className:"rs-page\n                            ".concat(p&&"sidenav-stuck","\n                            ").concat(l),children:t}),(0,m.jsx)("div",{className:"rs-page\n                            ".concat(p&&"sidenav-stuck"),children:w})]}):(0,m.jsxs)("div",{className:"has-navbar ".concat(l),children:[Y&&(0,m.jsx)(h,{}),t]}),(g||z)&&_&&(0,m.jsx)(N,{handleActionsToggle:ee,actionsToggle:z,actionsStuck:g,actionsContent:b,sidenavToggle:D,isMobile:_})]}),Y?(0,m.jsx)(s.Z,{color:"pe"}):(0,m.jsx)(C.Z,{handleSidenavToggle:Q,sidenavToggle:D,sidenavStuck:p,color:"b4"})]})]})}T.defaultProps={bodyClass:"",sidenavStuck:!1,isStructured:!1,isPublished:!0,allowDirectSubmit:!1,allowPostMyPreprint:!0,isOwner:!1,hasOptedInToPreprint:!0,actions:{actionsStuck:!1,actionsLabel:"",actionsContent:(0,m.jsx)(a.Fragment,{})},actionsIconOpen:"fa-caret-left",actionsIconClosed:"fa-caret-right",lastSection:null,config:"researchsquare",description:"Research Square is a preprint platform that makes research communication faster, fairer, and more useful.",image:"https://www.researchsquare.com/static/img/logos/logo-og-default.jpg",status:null,acdcEnabled:!0,noindex:!1,isPdfViewerFullscreen:!1,isAcceptedByJournal:!1};var F=T},66691:function(e,t,n){n.d(t,{Zp:function(){return er},jj:function(){return eh},hY:function(){return ed},A3:function(){return ee},fX:function(){return G},R5:function(){return et},p6:function(){return ep},GY:function(){return ea},$d:function(){return en},pd:function(){return eu},_9:function(){return eo},kF:function(){return ec},C1:function(){return J},oH:function(){return Q},tz:function(){return Y},Wp:function(){return X}});var a=n(50029),r=n(4730),o=n(59499),i=n(13311),s=n.n(i),l=n(47037),c=n.n(l),u=n(64687),d=n.n(u),p=n(66688),m=n(23157),h=n(45350),f=n(66244),g=n(39301),v=n(92332),b=n(16093),x=n(24762),j=n(14208),w=n(67294),y=n(92777),O=n(82262),S=n(10748),P=n(45959),N=n(63553),C=n(37247),k=n(9041),T=n(58128),F=n(49746),Z=n(37166),E=n(13931),q=n(29893),M=n(85893);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A={customInlineFn:function(e,t){var n=t.Style;return"SUB"===e.tagName?n("SUBSCRIPT"):"SUP"===e.tagName?n("SUPERSCRIPT"):null}},U={inlineStyles:{SUBSCRIPT:{element:"sub"},SUPERSCRIPT:{element:"sup"}}},L=function(e){(0,P.Z)(a,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,C.Z)(a);return e=t?Reflect.construct(n,arguments,(0,C.Z)(this).constructor):n.apply(this,arguments),(0,N.Z)(this,e)});function a(e){(0,y.Z)(this,a),t=n.call(this,e),(0,o.Z)((0,S.Z)(t),"handleChange",function(e){t.setState({editorState:e})}),(0,o.Z)((0,S.Z)(t),"handlePastedText",function(e,n){var a=t.state.editorState;if(!n)return"not handled";if(n.includes("</sup>")||n.includes("</sub>")){var r=t.sanitizeWordHtml(n),o=(0,T.M)(r,A),i=o.blockMap;o.entityMap;var s=k.Modifier.replaceWithFragment(a.getCurrentContent(),a.getSelection(),i);return t.handleChange(k.EditorState.push(a,s,"insert-fragment")),"handled"}return"not handled"}),(0,o.Z)((0,S.Z)(t),"handleKeyCommand",function(e,n){var a=k.RichUtils.handleKeyCommand(n,e);return a?(t.handleChange(a),"handled"):"not-handled"}),(0,o.Z)((0,S.Z)(t),"focus",function(){t.editor.focus()}),(0,o.Z)((0,S.Z)(t),"buttons",function(e){return(0,M.jsxs)("div",{className:"draftjs-toolbar",children:[t.props.formats.includes("bold")&&(0,M.jsx)("div",{className:"draftjs-toolbar-button",children:(0,M.jsx)(q.n3,R({},e))}),t.props.formats.includes("italic")&&(0,M.jsx)("div",{className:"draftjs-toolbar-button",children:(0,M.jsx)(q.BI,R({},e))}),t.props.formats.includes("underline")&&(0,M.jsx)("div",{className:"draftjs-toolbar-button",children:(0,M.jsx)(q.tg,R({},e))}),(0,M.jsx)("div",{className:"draftjs-toolbar-separator",children:(0,M.jsx)(E.Z,R({},e))}),t.props.formats.includes("script")&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{className:"draftjs-toolbar-button",children:(0,M.jsx)(q.C$,R({},e))}),(0,M.jsx)("div",{className:"draftjs-toolbar-button",children:(0,M.jsx)(q.Tx,R({},e))})]})]})}),t.handleChange=t.handleChange.bind((0,S.Z)(t)),t.handlePastedText=t.handlePastedText.bind((0,S.Z)(t)),t.handleKeyCommand=t.handleKeyCommand.bind((0,S.Z)(t));var t,r="object"==typeof document?(0,T.M)(e.input.value,A):k.ContentState.createFromText(e.input.value),i=(0,E.C)({structure:[q.n3,q.BI,q.tg,E.Z,q.C$,q.Tx]});return t.PluginComponents={Toolbar:i.Toolbar},t.state={editorState:k.EditorState.createWithContent(r),plugins:[i]},t}return(0,O.Z)(a,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.input,a=this.state.editorState,r=(0,F.E)(t.editorState.getCurrentContent(),U),o=(0,F.E)(a.getCurrentContent(),U);if(n.value!==e.input.value&&n.value!==o){var i=(0,T.M)(n.value,A);this.setState({editorState:k.EditorState.createWithContent(i)})}else o!==r&&n.onChange(o)}},{key:"sanitizeWordHtml",value:function(e){e=(e=e.replace(/<[/]?(o|w|m):[^>]*>/gi,"")).replace(/<[/]?(meta|link|style|xml|script)[^>]*>/gi,"");var t=document.createElement("div");return t.innerHTML=e,t.querySelectorAll('span[style*="vertical-align:sub"]').forEach(function(e){var t=document.createElement("sub");t.innerHTML=e.innerHTML,e.replaceWith(t)}),t.querySelectorAll('span[style*="vertical-align:super"]').forEach(function(e){var t=document.createElement("sup");t.innerHTML=e.innerHTML,e.replaceWith(t)}),t.innerHTML}},{key:"render",value:function(){var e=this,t=this.props,n=t.input,a=t.disabled,r=this.state,o=r.editorState,i=r.plugins,s=this.PluginComponents.Toolbar;return(0,M.jsxs)(j.default,{onclick:this.focus,children:[(0,M.jsx)(Z.ZP,R(R({},n),{},{editorState:o,onChange:this.handleChange,handlePastedText:this.handlePastedText,handleKeyCommand:this.handleKeyCommand,readOnly:a,customStyleMap:{SUBSCRIPT:{fontSize:"0.6em",verticalAlign:"sub"},SUPERSCRIPT:{fontSize:"0.6em",verticalAlign:"super"}},plugins:i,ref:function(t){e.editor=t}})),(0,M.jsx)(s,{children:this.buttons})]})}}]),a}(w.Component);L.defaultProps={placeholder:"",formats:["bold","italic","underline","script"],disabled:!1};var D=n(55708),B=n(58152),V=n(95596),z=n(51941);function W(e){var t=e.maxNumberOfFiles,n=e.allowedFileTypes,a=e.dropzoneLabel,r=e.height,o=e.onUpload,i=e.onAfterUpload,s=e.onAllComplete,l=(0,w.useMemo)(function(){return new B.Z({autoProceed:!0,restrictions:{maxNumberOfFiles:t,allowedFileTypes:n}}).use(D.Z,{getUploadParameters:function(e){return o(e)},timeout:6e4,limit:2}).on("upload-success",function(e){return i(e)}).on("upload-error",function(e,t){z.Am.error("Failed to upload ".concat(e.id),{autoClose:5e3}),console.error("Failed to upload: ".concat(t))}).on("complete",function(e){return s(e)}).on("error",function(e){z.Am.error("Upload failed: ".concat(l.getState().error),{autoClose:5e3}),console.error("Upload failed: ".concat(e.stack))})},[]);return(0,w.useEffect)(function(){return function(){var e;l.cancelAll(),"function"==typeof l.close&&l.close(),null==l||null===(e=l.uninstall)||void 0===e||e.call(l)}},[]),(0,M.jsx)(w.Fragment,{children:(0,M.jsx)(V.A,{uppy:l,width:"100%",height:r,locale:{strings:{dropPaste:"Drop ".concat(a," or %{browse}")}}})})}W.defaultProps={maxNumberOfFiles:null,height:300,onAllComplete:function(){},onAfterUpload:function(){}};var H=["input","file","version","justification","updateMetadata","setIsUpdating","renderRichTextInputField"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var $=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,G=function(e){return e.length<10?"Password must be 10 characters or more. You have: ".concat(e.length,"."):void 0},J=function(e){return e&&0!==e.length?void 0:"Required"},X=function(e){return e&&!/^(?:(?:http|https):\/\/orcid\.org\/)?([0-9-X]{19})$/i.test(e)?"Invalid ORCID iD format.":void 0},Y=function(e){return e&&"https://orcid.org/0000-0002-1825-0097"===e?"Please do not use the ORCID placeholder iD.":void 0},Q=function(e){return e?e.indexOf(";")>-1||e.indexOf(",")>-1?"Please only enter one email":$.test(e)?void 0:"Invalid email format":void 0},ee=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduce(function(t,a){return t||a(e,n)},void 0)}},et=function(e){var t=e.input,n=e.label,a=e.required,r=e.helpText,o=e.meta,i=o.initial,s=o.touched,l=o.error;return(0,M.jsx)(w.Fragment,{children:(0,M.jsxs)("div",{className:"form-check is-flex",children:[(0,M.jsx)("input",K(K({type:"checkbox"},t),{},{id:t.name,className:"b-mt-8 form-check-input",required:a,defaultChecked:i})),(0,M.jsxs)("div",{className:"b-pl-15  b-pt-3",children:[(0,M.jsxs)("label",{htmlFor:t.name,className:"form-check-label",children:[n,n&&a?"*":""]}),s&&l&&(0,M.jsxs)("p",{className:"b- b-pt-5 input-error color-text-r",children:[(0,M.jsx)("i",{className:"b-pr-5 fas fa-exclamation-triangle"}),l]}),(0,M.jsx)(ef,{value:void 0===r?"":r})]})]})})};et.defaultProps={required:!1};var en=function(e){var t=e.input,n=e.label,a=e.helpText,r=e.required,o=e.disabled,i=e.meta,s=i.touched,l=i.error;return t.type="radio",(0,M.jsx)(w.Fragment,{children:(0,M.jsxs)("div",{className:"control",children:[(0,M.jsxs)("div",{className:"is-flex",children:[(0,M.jsx)("input",K(K({},t),{},{id:"".concat(t.name,"-").concat(t.value),type:"radio",className:"b-mt-5",required:r,value:t.value,checked:!!t.checked,disabled:void 0!==o&&o})),(0,M.jsxs)("span",{className:"radio-label is-inline-block b-pl-15 va-top",children:[(0,M.jsxs)("label",{htmlFor:"".concat(t.name,"-").concat(t.value),className:"radio",children:[n,n&&r?"*":""]}),s&&l&&(0,M.jsxs)("p",{className:"b- b-pt-5 input-error color-text-r",children:[(0,M.jsx)("i",{className:"b-pr-5 fas fa-exclamation-triangle"}),l]})]})]}),(0,M.jsx)(ef,{value:void 0===a?"":a,label:n})]})})};en.defaultProps={helpText:"",required:!1,disabled:!1};var ea=function(e){var t=e.className,n=void 0===t?"":t,a=e.input,r=e.label,o=e.helpText,i=e.placeholder,s=e.readOnly,l=(e.type,e.maxLength),c=e.required,u=e.isClearable,d=e.onClear,p=e.disabled,m=e.meta;return m.touched,m.error,(0,M.jsx)(w.Fragment,{children:(0,M.jsxs)("div",{className:"field",children:[(0,M.jsxs)("div",{className:"align-m",children:[(0,M.jsx)(em,{className:n,htmlFor:a.name,label:r,required:c}),(0,M.jsx)(eh,{name:a.name})]}),(0,M.jsx)(ef,{value:void 0===o?"":o,label:r}),(0,M.jsxs)("div",{className:"control ".concat(u&&a.value?"has-icons-right":""),children:[(0,M.jsx)("input",K(K({},a),{},{id:a.name,placeholder:i,readOnly:void 0!==s&&s,type:a.type,maxLength:l,required:c,className:"input ".concat(n),disabled:void 0!==p&&p})),u&&a.value&&(0,M.jsx)("span",{className:"icon is-right is-clearable",onClick:d,children:(0,M.jsx)("i",{className:"fa fa-times"})})]})]})})},er=function(e){var t=e.className,n=void 0===t?"":t,a=e.input,r=e.isClearable,o=void 0!==r&&r,i=e.label,s=e.placeholder,l=e.required,u=e.loadOptions,d=e.getOptionLabel,p=e.getOptionValue,m=e.noOptionsMessage,h=e.initialVal,g=e.creatable,b=e.meta;b.touched,b.error;var x=null;return a.value&&(x=c()(a.value)?{value:a.value,label:a.value}:a.value),(0,M.jsx)(w.Fragment,{children:(0,M.jsxs)("div",{className:"field",children:[(0,M.jsxs)("div",{className:"align-m",children:[(0,M.jsx)(em,{htmlFor:a.name,label:i,required:l}),(0,M.jsx)(eh,{name:a.name})]}),(0,M.jsx)(j.default,{children:g?(0,M.jsx)(v.Z,K(K({},a),{},{id:a.name,className:n,placeholder:s,loadOptions:u,closeMenuOnSelect:!0,isClearable:o,onBlur:function(){return a.onBlur(a.value)},noOptionsMessage:m,value:x,getOptionLabel:d,getOptionValue:p,defaultValue:h,formatCreateLabel:function(e){return'Click or press Enter to use "'.concat(e,'"')}})):(0,M.jsx)(f.Z,K(K({},a),{},{id:a.name,className:n,placeholder:s,loadOptions:u,closeMenuOnSelect:!0,isClearable:o,onBlur:function(){return a.onBlur(a.value)},noOptionsMessage:m,value:x,getOptionLabel:d,getOptionValue:p,defaultValue:h}))})]})})},eo=function(e){e.children;var t=e.className,n=e.input,a=e.isClearable,r=e.label,o=e.placeholder,i=(e.type,e.required),l=e.options,u=e.multi,d=e.allowNewValues,p=void 0!==d&&d,f=e.defaultSelectedValue,v=void 0===f?null:f,b=e.meta;b.touched,b.error;var x=p?g.Z:m.ZP,y=h.c.Option,O=h.c.SingleValue,S=h.c.MultiValue;l[0]&&"icon"in l[0]&&(y=ei,O=es,S=el);var P=null;return u?P=n.value:p&&n.value?P=c()(n.value)?{value:n.value,label:n.value}:n.value:n.value?P=s()(l,function(e){return e.value===n.value}):v&&(P=s()(l,function(e){return e.value===v})),(0,M.jsx)(w.Fragment,{children:(0,M.jsxs)("div",{className:"field",children:[(0,M.jsxs)("div",{className:"align-m",children:[(0,M.jsx)(em,{htmlFor:n.name,label:r,required:i}),(0,M.jsx)(eh,{name:n.name})]}),(0,M.jsx)(j.default,{children:(0,M.jsx)(x,K(K({},n),{},{id:n.name,className:void 0===t?"":t,placeholder:o,options:l,isMulti:u,closeMenuOnSelect:!0,isClearable:a||!1,onBlur:function(){return n.onBlur(n.value)},value:P,components:{Option:y,SingleValue:O,MultiValue:S},styles:{menu:function(e){return K(K({},e),{},{zIndex:9999})}}}))})]})})},ei=function(e){return(0,M.jsxs)(h.c.Option,K(K({},e),{},{children:[(0,M.jsx)("i",{className:"pr-10 ".concat(e.data.icon," ").concat(e.data.color)}),e.data.label]}))},es=function(e){return(0,M.jsxs)(h.c.SingleValue,K(K({},e),{},{children:[(0,M.jsx)("i",{className:"pr-10 ".concat(e.data.icon," ").concat(e.data.color)}),e.data.label]}))},el=function(e){return(0,M.jsxs)(h.c.MultiValue,K(K({},e),{},{children:[(0,M.jsx)("i",{className:"pr-10 ".concat(e.data.icon," ").concat(e.data.color)}),e.data.label]}))},ec=function(e){var t=e.className,n=e.input,a=e.label,r=e.placeholder,o=(e.type,e.maxLength),i=e.required,s=e.rows,l=e.maxRows,c=e.disabled,u=e.meta;return u.touched,u.error,(0,M.jsx)(w.Fragment,{children:(0,M.jsxs)("div",{className:"field",children:[(0,M.jsxs)("div",{className:"align-m",children:[(0,M.jsx)(em,{className:t,htmlFor:n.name,label:a,required:i}),(0,M.jsx)(eh,{name:n.name})]}),(0,M.jsx)("div",{className:"control",children:(0,M.jsx)(b.Z,K(K({},n),{},{id:n.name,placeholder:r,maxLength:o,required:i,disabled:c,className:"textarea ".concat(t),rows:s,maxRows:l}))})]})})},eu=function(e){var t=e.input,n=e.label,a=e.placeholder,r=e.required,o=e.disabled,i=e.formats,s=e.tooltip,l=e.value,c=e.handleChange,u=e.helpText,d=e.meta;return d.touched,d.error,(0,M.jsx)(w.Fragment,{children:(0,M.jsxs)("div",{className:"control","data-tip":s,children:[(0,M.jsx)("label",{htmlFor:t.name,children:n}),(0,M.jsx)(ef,{value:void 0===u?"":u,label:n}),(0,M.jsx)(L,{input:t,id:t.name,formats:i,value:l,onChange:c,required:r,placeholder:a,disabled:o}),(0,M.jsx)(eh,{name:t.name}),(0,M.jsx)(x.Z,{place:"left",type:"light",effect:"solid",event:"click",globalEventOff:"click",isCapture:!1,html:!0})]})})},ed=function(e){var t=e.input,n=e.file,o=e.version,i=e.justification,s=e.updateMetadata,l=e.setIsUpdating,c=e.renderRichTextInputField,u=(0,r.Z)(e,H),p=(0,w.useRef)();return(0,w.useEffect)(function(){var e,r=(e=(0,a.Z)(d().mark(function e(a){var r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null==t?void 0:t.value,console.log("focusout event fired",a),p.current.contains(a.relatedTarget)){e.next=15;break}if(console.log("Focus left the field group"),r){e.next=6;break}return e.abrupt("return");case 6:return l(!0),e.prev=7,e.next=10,s({legend:r},n,o,i);case 10:return e.prev=10,setTimeout(function(){return l(!1)},100),e.finish(10);case 13:e.next=15;break;case 15:case"end":return e.stop()}},e,null,[[7,,10,13]])})),function(t){return e.apply(this,arguments)}),c=p.current;return c&&c.addEventListener("focusout",r),function(){c&&c.removeEventListener("focusout",r)}},[null==t?void 0:t.value,n,o,i,s,l]),(0,M.jsx)("div",{ref:p,tabIndex:-1,children:c(K({input:t,file:n,version:o,justification:i,updateMetadata:s,setIsUpdating:l},u))})},ep=function(e){var t=e.maxNumberOfFiles,n=e.allowedFileTypes,a=e.dropzoneLabel,r=e.onUpload,o=e.onAfterUpload,i=e.onAllComplete;return(0,M.jsx)(w.Fragment,{children:(0,M.jsx)(W,{maxNumberOfFiles:t,allowedFileTypes:n,dropzoneLabel:a,onUpload:r,onAfterUpload:o,onAllComplete:i})})},em=function(e){var t=e.className,n=e.htmlFor,a=e.label,r=e.required;return(0,M.jsxs)("label",{className:"label ".concat(t),htmlFor:n,children:[a,a&&r?" *":""]})},eh=function(e){var t=e.name;return(0,M.jsx)(p.gN,{name:t,subscription:{error:!0,submitError:!0,touched:!0},render:function(e){var t=e.meta,n=t.error,a=t.submitError,r=t.touched;return(n||a)&&r?(0,M.jsxs)("p",{className:"input-error color-text-r b-pl-15",children:[(0,M.jsx)("i",{className:"b-pr-5 fas fa-exclamation-triangle"}),a||n]}):""}})},ef=function(e){var t=e.value,n=e.label;return t?(0,M.jsx)("span",{className:"".concat(n?"ml-30":""," is-block is-size-7 has-text-grey"),children:t}):(0,M.jsx)(w.Fragment,{})};ef.defaultProps={value:"",label:""}}}]);